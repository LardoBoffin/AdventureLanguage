<?xml version="1.0" standalone="yes"?>
<AdventureData>
	<GlobalVariables>
		<Var id="HaveLight" value="0">1 = Has light source</Var>
	</GlobalVariables>
	<Sections>
		<Section>
			<GameTitle>Banzai</GameTitle>
			<ScreenWidth>40</ScreenWidth>
			<ScreenMode>7</ScreenMode>
			<SourceFile>source.txt</SourceFile>
			<OutputFile>Banzai.txt</OutputFile>
			<BuildType>Debug</BuildType>
			<Tokeniser>/Users/jonesp/Documents/BasicTool/Basictool</Tokeniser>
			<TokenisedFileName>Banzai</TokenisedFileName>
			<CrunchTokenisedFile></CrunchTokenisedFile>
			<SSDBuilder>/Users/jonesp/Documents/Beeb SWEH</SSDBuilder>
			<SSDName>Banzai.SSD</SSDName>
			<BeebEmPath>/Applications/BeebEmMac/BeebEm4.app</BeebEmPath>
			<SystemMessages>
				<Message id="_Carrying">You are carrying</Message>
				<Message id="_WhatNow">What now</Message>
				<Message id="_CannotDoIt">You can't.</Message>
				<Message id="_What">Pardon?</Message>
				<Message id="_AnotherGame">Another game? (Y/N)</Message>
				<Message id="Sure">Are you sure? (Y/N)...</Message>
				<Message id="GotThat">You've already got that.</Message>
				<Message id="_HaveNotGotThat">You haven't got that.</Message>
				<Message id="CannotSeeIt">You can't see that.</Message>
				<Message id="_TooHeavy">You're carrying too much to pick that up.</Message>
				<Message id="Score">Your score was </Message>
				<Message id="NoOfTurns">and you took </Message>
				<Message id="_ItsDark">It is dark. You cannot see.</Message>
				<Message id="_CannotFindIt">I can't find that anywhere.</Message>
				<Message id="AlsoSee">You can also see</Message>
				<Message id="_OK">Okay </Message>
				<Message id="Turns">turns.</Message>
				<Message id="_Nothing">nothing</Message>
				<Message id="_Wait">You wait.</Message>
				<Message id="_Loading">Loading</Message>
				<Message id="_FlashlightOff">Flashlight (off)</Message>
				<Message id="_FlashlightOn">Flashlight (on)</Message>
				<Message id="_SmallToolBox">Small toolbox</Message>
				<Message id="_OpenToolBox">An open toolbox</Message>
				<Message id="_EmptyJug">Empty chemical jug</Message>
				<Message id="_FullJug">Jug of gasoline</Message>
				<Message id="_JetFuelJug">Jug of jet fuel</Message>
			</SystemMessages>
			<GameVerbs>
				<Verb>North;N</Verb>
				<Verb>South;S</Verb>
				<Verb>East;E</Verb>
				<Verb>West;W</Verb>
				<Verb>Southwest;SW</Verb>
				<Verb>Northeast;NE</Verb>
				<Verb>Up;U</Verb>
				<Verb>Down;D</Verb>
				<Verb>Take;Get</Verb>
				<Verb>Drop</Verb>
				<Verb>Look</Verb>
				<Verb>Inventory;Inv</Verb>
				<Verb>Quit</Verb>
				<Verb>Words</Verb>
				<Verb>Pictures</Verb>
				<Verb>Save</Verb>
				<Verb>Restore</Verb>
				<Verb>Examine;Search;Read</Verb>
				<Verb>Light;On</Verb>
				<Verb>Extinguish;Off</Verb>
				<Verb>Unlock;Open</Verb>
				<Verb>Score</Verb>
				<Verb>Eat</Verb>
				<Verb>Load</Verb>
				<Verb>Use</Verb>
				<Verb>Enter;Go</Verb>
				<Verb>Move</Verb>
				<Verb>Close</Verb>
				<Verb>Press;Activate</Verb>
				<Verb>Fill</Verb>
				<Verb>Connect;Attach</Verb>
				<Verb>Check</Verb>
				<Verb>Dig</Verb>
				<Verb>Cut;Slice</Verb>
				<Verb>Throw</Verb>
				<Verb>Tie</Verb>
				<Verb>Climb</Verb>
				<Verb>Pull</Verb>
				<Verb>Refuel</Verb>
				<Verb>Wash</Verb>
				<Verb>Replace</Verb>
				<Verb>Transmit</Verb>
				<Verb>Put</Verb>
				<Verb>Disconnect</Verb>
				<Verb>Make</Verb>
			</GameVerbs>
			<Adverbs>
				<Adverb>WITH;USING</Adverb>
				<Adverb>TO</Adverb>
			</Adverbs>
			<Nouns>
				<Noun>Toolbox</Noun>
				<Noun>Key</Noun>
				<Noun>Tape;DuctTape</Noun>
				<Noun>Flashlight;Torch</Noun>
				<Noun>Battery</Noun>
				<Noun>Formula</Noun>
				<Noun>Jar;Fluid</Noun>
				<Noun>Sand</Noun>
				<Noun>Radio</Noun>
				<Noun>Pick</Noun>
				<Noun>Hydrometer</Noun>
				<Noun>Pump;Pumps</Noun>
				<Noun>Jumper;Cables</Noun>
				<Noun>Line</Noun>
				<Noun>Quartz</Noun>
				<Noun>Hose</Noun>
				<Noun>Jug</Noun>
				<Noun>Envelope</Noun>
				<Noun>Paper</Noun>
				<Noun>Door</Noun>
				<Noun>Tree</Noun>
				<Noun>CLS</Noun>
				<Noun>Yoyodyne;Yoyo</Noun>
				<Noun>Station</Noun>
				<Noun>Booth</Noun>
				<Noun>Table</Noun>
				<Noun>Safe</Noun>
				<Noun>House</Noun>
				<Noun>Pipes;Pipe</Noun>
				<Noun>Trash;Rubbish</Noun>
				<Noun>Console</Noun>
				<Noun>Switch</Noun>
				<Noun>Store;Hardware</Noun>
				<Noun>Car;Jet</Noun>
				<Noun>Dashboard;Dash</Noun>
				<Noun>Glovebox;Compartment</Noun>
				<Noun>Shack</Noun>
				<Noun>Water</Noun>
				<Noun>Shed</Noun>
				<Noun>Hole</Noun>
				<Noun>Antenna</Noun>
				<Noun>Mountain</Noun>
				<Noun>Stairs;Staircase</Noun>
				<Noun>Gas;Gasoline</Noun>
				<Noun>Fuel</Noun>
				<Noun>Button</Noun>
				<Noun>Cockpit</Noun>
				<Noun>Bomb</Noun>
				<Noun>Warfin</Noun>
				<Noun>Terminals</Noun>
			</Nouns>
			<Variables>
				<Var id="TurnsInDark" value="0">Number of turns in the dark so far. 2 = death.</Var>
				<Var id="TurnOnFreeway" value="0">2 = Atomic explosion!!!</Var>
				<Var id="TableMoved" value="0">1 = table has been moved </Var>
				<Var id="ToolBoxOpen" value="0">1= toolbox open </Var>
				<Var id="PipesPadlocked" value="0">1= unlocked </Var>
				<Var id="SearchTrash" value="0">1= searched </Var>
				<Var id="CockpitStatus" value="0">1 = open, 0 =closed</Var>
				<Var id="FuelGuageStatus">0 = empty, 1 = full</Var>
				<Var id="DashboardStatus">0 = not examined</Var>
				<Var id="GloveboxStatus">0 = not examined</Var>
				<Var id="RadioBatteryStatus">0 = no battery</Var>
				<Var id="RadioAntennaStatus">0 = no antenna</Var>
				<Var id="RadioWorkingStatus">0 = not working</Var>
				<Var id="BatteryWater">0 = empty</Var>
				<Var id="HoleOne">0 = not dug</Var>
				<Var id="HoleTwo">0 = not dug</Var>
				<Var id="CutOne">0 = not cut</Var>
				<Var id="CutTwo">0 = not cut</Var>
				<Var id="TakenCable">0 = not taken</Var>
				<Var id="LineThrown">0 = not tied</Var>
				<Var id="PickTied">0 = not tied</Var>
				<Var id="CarExamined">0 = not tied</Var>
				<Var id="BatteryConnectToCables">0 = not connected</Var>
				<Var id="HoseConnectedToPump">0 = not connected</Var>
				<Var id="ExaminedStairs">0 = not examined</Var>
				<Var id="TorchOn">30 = light goes out</Var>
				<Var id="PutHose">0 = not put in gas</Var>
				<Var id="HoseDirty">0 = not dirty (used for pumping gas)</Var>
				<Var id="BatteryConnectToTerminals">0 = not connected</Var>
				<Var id="CarFuelled">0 = not fuelled</Var>
			</Variables>
			<Objects>
				<Object id="_TOOLBOX" number="1" weight="20" value="0" location="6" message="Small toolbox">
				</Object>
				<Object id="_KEY" number="2" weight="20" value="150" location="0" message="Key">
				</Object>
				<Object id="_TAPE" number="3" weight="20" value="0" location="0" message="Roll of duct tape">
				</Object>
				<Object id="_FLASHLIGHT" number="4" weight="20" value="1" location="0" message="Flashlight (off)">
				</Object>
				<Object id="_BATTERY" number="5" weight="20" value="1" location="0" message="Old car battery">
				</Object>
				<Object id="_FORMULA" number="6" weight="20" value="1" location="0" message="Formula">
				</Object>
				<Object id="_FLUID" number="7" weight="20" value="1" location="0" message="Jar of glowind fluid">
				</Object>
				<Object id="_SAND" number="8" weight="20" value="1" location="23" message="Sand">
				</Object>
				<Object id="_RADIO" number="9" weight="20" value="1" location="24" message="Small Ham radio">
				</Object>
				<Object id="_PICK" number="10" weight="20" value="1" location="17" message="Climbers pick">
				</Object>
				<Object id="_HYDROMETER" number="11" weight="20" value="1" location="17" message="Hydrometer">
				</Object>
				<Object id="_PUMP" number="12" weight="20" value="1" location="17" message="Manual hand pump">
				</Object>
				<Object id="_CABLES" number="13" weight="20" value="1" location="17" message="Jumper cables">
				</Object>
				<Object id="_LINE" number="14" weight="20" value="1" location="0" message="20 ft of phone line">
				</Object>
				<Object id="_QUARTZ" number="15" weight="20" value="1" location="21" message="Quartz">
				</Object>
				<Object id="_HOSE" number="16" weight="20" value="1" location="0" message="Fuel hose">
				</Object>
				<Object id="_MIXINGJUG" number="17" weight="20" value="1" location="0" message="Empty chemical jug">
				</Object>
				<Object id="_ENVELOPE" number="18" weight="20" value="1" location="27" message="env">
				</Object>
				<Object id="_PAPER" number="19" weight="20" value="1" location="0" message="paper">
				</Object>
			</Objects>
			<Locations>
				<Location id="0">
				</Location>
				<Location id="1">
					<Message>I am in a Yoyodyne office. There is a large table here.</Message>
					<Exit to="3">
						<Verb>WEST</Verb>
					</Exit>
					<Exit to="2" locked="0">
						<Verb>DOWN</Verb>
					</Exit>
				</Location>
				<Location id="2">
					<Message>I am in a basement laboratory. I can see a staircase and a mixing vat.</Message>
					<Flag id="0">1</Flag>
					<Exit to="1">
						<Verb>UP</Verb>
					</Exit>
				</Location>
				<Location id="3">
					<Message>I'm at the corner of Main and Hickory. You can see the Yoyodyne building and a gas station.</Message>
					<Exit to="16">
						<Verb>NORTH</Verb>
					</Exit>
					<Exit to="10">
						<Verb>SOUTH</Verb>
					</Exit>
					<Exit to="4">
						<Verb>EAST</Verb>
					</Exit>
					<Exit to="7">
						<Verb>WEST</Verb>
					</Exit>
				</Location>
				<Location id="4">
					<Message>I'm on Hickory Avenue.</Message>
					<Exit to="3">
						<Verb>WEST</Verb>
					</Exit>
					<Exit to="5">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="5">
					<Message>I am at a cul-de-sac at East end of Hickory. I can see a large house.</Message>
					<Exit to="4">
						<Verb>WEST</Verb>
					</Exit>
					<Exit to="6">
						<Verb>NORTH</Verb>
					</Exit>
				</Location>
				<Location id="6">
					<Message>I am in the garage of a large house.</Message>
					<Exit to="5">
						<Verb>SOUTH</Verb>
					</Exit>
				</Location>
				<Location id="7">
					<Message>I'm on Hickory Avenue. I can see a shed with an antenna.</Message>
					<Exit to="8">
						<Verb>WEST</Verb>
					</Exit>
					<Exit to="3">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="8">
					<Message>Cul-de-sac at west end.</Message>
					<Exit to="7">
						<Verb>EAST</Verb>
					</Exit>
					<Exit to="9">
						<Verb>WEST</Verb>
					</Exit>
				</Location>
				<Location id="9">
					<Message>Living room.</Message>
					<Exit to="7">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="10">
					<Message>I'm at a highway access ramp.</Message>
					<Exit to="3">
						<Verb>NORTH</Verb>
					</Exit>
					<Exit to="13">
						<Verb>SOUTH</Verb>
					</Exit>
					<Exit to="12">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="11">
					<Message>Doh!</Message>
				</Location>
				<Location id="12">
					<Message>I am in a field of tall grass.</Message>
					<Exit to="10">
						<Verb>WEST</Verb>
					</Exit>
				</Location>
				<Location id="13">
					<Message>Highway.</Message>
					<Exit to="14">
						<Verb>WEST</Verb>
					</Exit>
					<Exit to="14">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="14">
					<Message>Highway.</Message>
					<Exit to="13">
						<Verb>WEST</Verb>
					</Exit>
					<Exit to="13">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="15">
					<Message>I am in a shed full of radio equipment. I can see an antenna lead.</Message>
					<Exit to="7">
						<Verb>NORTH</Verb>
					</Exit>
				</Location>
				<Location id="16">
					<Message>I'm at the corner of Main and Mountain View. I can see a hardware store.</Message>
					<Exit to="3">
						<Verb>SOUTH</Verb>
					</Exit>
					<Exit to="18">
						<Verb>EAST</Verb>
					</Exit>
					<Exit to="18">
						<Verb>WEST</Verb>
					</Exit>
					<Exit to="19">
						<Verb>NORTH</Verb>
					</Exit>
				</Location>
				<Location id="17">
					<Message>I am in a hardware store.</Message>
					<Exit to="16">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="18">
					<Message>I'm behind the mountain on Mountain View.</Message>
					<Exit to="16">
						<Verb>EAST</Verb>
					</Exit>
					<Exit to="16">
						<Verb>WEST</Verb>
					</Exit>
				</Location>
				<Location id="19">
					<Message>I'm at the east end of parking lot.</Message>
					<Exit to="16">
						<Verb>SOUTH</Verb>
					</Exit>
					<Exit to="20">
						<Verb>NORTH</Verb>
					</Exit>
					<Exit to="25">
						<Verb>WEST</Verb>
					</Exit>
				</Location>
				<Location id="20">
					<Message>I'm at the foot of a mountain.</Message>
					<Exit to="19">
						<Verb>SOUTH</Verb>
					</Exit>
					<Exit to="22">
						<Verb>WEST</Verb>
					</Exit>
				</Location>
				<Location id="21">
					<Message>I'm on a small mountain ledge.</Message>
					<Exit to="20">
						<Verb>DOWN</Verb>
					</Exit>
				</Location>
				<Location id="22">
					<Message>I am in a cold shallow lake.</Message>
					<Exit to="20">
						<Verb>EAST</Verb>
					</Exit>
					<Exit to="23">
						<Verb>SOUTH</Verb>
					</Exit>
				</Location>
				<Location id="23">
					<Message>I'm on a beach. I can see a life guard shack.</Message>
					<Exit to="22">
						<Verb>NORTH</Verb>
					</Exit>
					<Exit to="25">
						<Verb>SOUTH</Verb>
					</Exit>
				</Location>
				<Location id="24">
					<Message>I'm in a Life guard shack.</Message>
					<Exit to="23">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="25">
					<Message>I'm at the west end of parking lot. I can see the Jet Car.</Message>
					<Exit to="19">
						<Verb>EAST</Verb>
					</Exit>
					<Exit to="23">
						<Verb>NORTH</Verb>
					</Exit>
				</Location>
				<Location id="26">
					<Message>I am in a cockpit of the jet car. I can see the dashboard.</Message>
					<Exit to="25">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="27">
					<Message>In a cavern.</Message>
					<Exit to="28">
						<Verb>NORTH</Verb>
					</Exit>
				</Location>
				<Location id="28">
					<Message>Mineshaft.</Message>
					<Exit to="18">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="29">
					<Message>I am in a Gas Station. I can see fluel pumps, the cashier's booth and filler pipes to the underground gas tank.</Message>
					<Exit to="3">
						<Verb>EAST</Verb>
					</Exit>
				</Location>
				<Location id="30">
					<Message>I am in a Cashier's booth. I can see a control console and a trash pile.</Message>
					<Exit to="29">
						<Verb>NORTH</Verb>
					</Exit>
				</Location>
			</Locations>
			<NPCS>
				<NPC>
					<Noun>Mugger</Noun>
					<Hostility>100</Hostility>
					<Health>40</Health>
					<ToHit>60</ToHit>
					<Damage>4</Damage>
					<Wandering>0</Wandering>
					<Location>3</Location>
					<Flag id="0">1</Flag>
					<Flag id="1">1</Flag>
				</NPC>
				<NPC>
					<Noun>Shopkeeper</Noun>
					<Hostility>0</Hostility>
					<Health>10</Health>
					<ToHit>0</ToHit>
					<Damage>0</Damage>
					<Wandering>0</Wandering>
					<Location>17</Location>
					<Flag id="0">0</Flag>
				</NPC>
			</NPCS>
			<PreRoom>
				'check for atomic explosion
				IF R%=13 OR R%=14 THEN PROCinc(@TurnOnFreeway)

				'deal with torch
				'if it is on then increase the timeout and when >30 switch it off
				IF FNobMn(@_FLASHLIGHT)=@_FlashlightOn THEN PROCinc(@TorchOn):IF FNget(@TorchOn)>30 THEN PROCsetObjMsg(@_FLASHLIGHT,@_FlashlightOff):PROCoff(@HaveLight):PROCmsg("The flashlight is off.")

				'every turn the torch is off for will recharge it by 1 turn
				IF FNobMn(@_FLASHLIGHT)=@_FlashlightOff AND FNget(@TorchOn)>0 THEN PROCdec(@TorchOn)

			</PreRoom>
			<RoomMsg>

				'floor safe
				IF R%=1 AND FNon(@TableMoved) THEN PROCmsg("You can see a floor safe.")

				'field, hole 1
				IF R%=12 AND FNon(@HoleOne) THEN PROCmsg("You can see a large hole.")
				IF R%=12 AND FNon(@HoleTwo) THEN PROCmsg("And another large hole.")
				IF R%=12 AND FNon(@CutTwo) THEN PROCmsg("And a severed phone line.")
				IF R%=20 AND FNon(@LineThrown) THEN PROCmsg("You can see a phone line dangling from above.")

			</RoomMsg>
			<Init>
				PROCset(@TurnsInDark,2):PROCenc(111):H%=60:AT%=90:DM%=8
				'*KEY 1 W|ME|ME|MN|MTAKE TOOLBOX|MS|MW|MW|MGO STATION|MDROP TOOLBOX|MOPEN IT|MGO BOOTH|MEXAMINE TRASH|MGET BATTERY|MN|ME|MN|MN|MW|MGO CAR|MEXAMINE DASHBOARD|MEXAMINE COMPARTMENT|MTAKE FORMULA|MTAKE FLUID|ME|MDROP FORMULA|MN|MGET SAND|M
				'*KEY 2 GO SHACK|MGET RADIO|ME|MN|MFILL BATTERY|ME|MS|MW|MDROP BATTERY|ME|MS|MS|MW|MGO SHED|MDROP RADIO|MCONNECT ANTENNA|MN|ME|MGO YOYO|MDROP SAND|MDROP JAR|MW|MN|MGO STORE|MGET PICK|MGET PUMP|MGET HYDROMETER|MGET CABLES|ME|MN|MW|MDROP HYDROMETER|M
				'*KEY 3 E|MS|MS|MS|ME|MDIG|MDIG|MCUT LINE|MCUT LINE|MGET LINE|MW|MN|MN|MN|MN|MDROP PUMP|MDROP CABLES|MTHROW LINE|MTIE LINE TO PICK|MCLIMB LINE|MPULL LINE|MGET QUARTZ|MD|MDROP PICK|MGET PUMP|MGET CABLES|MS|MW|MGET BATTERY|MEXAMINE CAR|M
				'*KEY 4 CONNECT CABLES TO BATTERY|MGET HOSE|ME|MS|MS|MGO STATION|MTAKE TORCH|MTAKE TAPE|MUNLOCK PIPE|MCONNECT HOSE|MDROP TAPE|ME|MGO YOYO|MGET SAND|MGET JAR|MTORCH ON|MD|MDROP QUARTZ|MDROP SAND|MDROP JAR|MEXAMINE STAIRCASE|MTAKE JUG|MU|MTORCH OFF|M
				'*KEY 5 W|MGO STATION|MPUT HOSE|MUSE PUMP|MDISCONNECT HOSE|MDROP PUMP|ME|MN|MN|MW|MGET FORMULA|MDROP HOSE|ME|MS|MS|MGO YOYO|MTORCH ON|MD|MDROP JUG|MMAKE FUEL|MTAKE JUG|M
				'U|MTORCH OFF|MDROP FORMULA|MW|MN|MN|MW|M
				'*KEY 6 CONNECT CABLES TO TERMINALS|MREFUEL CAR|M
			</Init>
			<HighPriority>
				IF FNflag(0) AND NOT FNon(@HaveLight) THEN PROCdec(@TurnsInDark)
				'check for boom on the freeway!
				IF FNget(@TurnOnFreeway)=3 THEN PROCmsg("An atomic explosion erupts. I'm fried Banzai. The adventure is over."):PROCexit:=TRUE

				'check for moving around in the dark
				IF FNflag(0) AND NOT FNon(@HaveLight) AND FNget(@TurnsInDark)=0 THEN PROCmsg("It's dangerous to move in the dark! I fell and broke my neck! I'm DEAD! I'm DEAD!!"):PROCexit:=TRUE


			</HighPriority>
			<LowPriority>

				'IF V%=@Unlock THEN PROCeE(2):=TRUE

				'room 1
				'move the table
				IF R%=1 AND V%=@Move AND N%=@Table AND NOT FNon(@TableMoved) THEN PROCmsg("The table moves."):PROCon(@TableMoved):=TRUE

				'stuff with the safe
				IF R%=1 AND V%=@Examine AND N%=@Safe AND FNon(@TableMoved) THEN PROCmsg("I see it's a key safe."):=TRUE
				IF R%=1 AND V%=@Open AND N%=@Safe AND NOT FNhere(@_KEY) THEN PROCmsg("I can't do that...yet!"):=TRUE
				'to do - open the safe!

				'the basement, need the torch!!

				IF R%=2 AND V%=@Examine AND N%=@Stairs AND NOT FNon(@ExaminedStairs) AND FNon(@HaveLight) THEN PROCmsg("I find a jug"):PROCmove(@_MIXINGJUG,R%):=TRUE
				'mix the fuel, needs quartz, sand, jar, jug of gasoline and a carried formula
				IF R%=2 AND V%=@Make AND V%=@Fuel AND NOT FNinInv(@_FORMULA) THEN PROCmsg("No forumal!"):=TRUE
				IF R%=2 AND V%=@Make AND V%=@Fuel AND FNhere(@_MIXINGJUG) AND FNhere(@_QUARTZ) AND FNhere(@_SAND) AND FNhere(@_FLUID) AND FNinInv(@_FORMULA) AND FNobMn(@_MIXINGJUG)=@_FullJug THEN PROCmsg(@_OK):PROCmove(@_QUARTZ,0):PROCmove(@_SAND,0):PROCmove(@_FLUID,0):PROCsetObjMsg(@_MIXINGJUG,@_JetFuelJug):=TRUE
				IF R%=2 AND V%=@Make AND V%=@Fuel THEN PROCmsg("Something is missing."):=TRUE

				'crossroads by yoyodyne and gas station, enter the yoyo building and gas station
				IF R%=3 THEN IF V%=@Enter AND N%=@Yoyodyne THEN PROCgoto(1):=TRUE
				IF R%=3 THEN IF V%=@Enter AND N%=@Station THEN PROCgoto(29):=TRUE

				'east end of hickory
				IF R%=5 AND V%=@Enter AND N%=@House THEN PROCgoto(6):=TRUE

				'hickory by shed
				IF R%=7 AND V%=@Enter AND N%=@Shed THEN PROCgoto(15):=TRUE


				'field

				IF R%=12 THEN IF FNr12:=TRUE

				'shed
				IF R%=15 AND V%=@Connect AND N%=@Antenna AND FNhere(@_RADIO) AND NOT FNon(@RadioAntennaStatus) THEN PROCon(@RadioAntennaStatus):PROCmsg(@_OK):=TRUE

				'mountain view corner
				IF R%=16 THEN IF V%=@Enter AND N%=@Store THEN PROCgoto(17):=TRUE


				'foot of mountain
				IF R%=20 AND V%=@Examine AND N%=@Mountain THEN PROCmsg("I see a ledge about 15' up with a small peak."):=TRUE
				IF R%=20 AND V%=@Throw AND N%=@Line AND FNinInv(@_Line) THEN PROCon(@LineThrown):PROCdrop(@_LINE):PROCmove(@_LINE,0):=TRUE
				IF R%=20 AND V%=@Tie AND N%=@Line AND NO2%=@Pick AND FNon(@LineThrown) AND FNavail(@_PICK) THEN PROCdrop(@_PICK):PROCmove(@_PICK,0):PROCon(@PickTied):=TRUE
				IF R%=20 AND V%=@Climb AND N%=@Line AND CW%>0 AND FNon(@LineThrown) THEN PROCmsg("I can't while carrying anything."):=TRUE
				IF R%=20 AND V%=@Climb AND N%=@Line AND CW%=0 AND FNon(@PickTied) THEN PROCmsg(@_OK):PROCgoto(21):=TRUE

				'mountain ledge
				IF R%=21 AND V%=@Pull AND N%=@Line AND FNon(@PickTied) THEN PROCmove(@_LINE,21):PROCmove(@_PICK,21):PROCtake(@_PICK):=TRUE
				IF R%=21 AND V%=@Get AND N%=@Quartz AND NOT FNinInv(@_PICK) THEN PROCmsg("You cannot get it out of the ground."):=TRUE

				'lake
				IF R%=22 AND V%=@Fill AND N%=@Battery AND FNavail(@_BATTERY) AND NOT FNon(@BatteryWater) THEN PROCon(@BatteryWater):PROCmsg(@_OK):=TRUE

				'beach
				IF R%=23 AND V%=@Enter AND N%=@Shack THEN PROCgoto(24):=TRUE

				'west end by car
				IF R%=25 THEN IF V%=@Enter AND N%=@Car THEN PROCgoto(26):=TRUE

				IF R%=25 AND V%=@Examine AND N%=@Car AND NOT FNon(@CarExamined) THEN PROCmove(@_HOSE,R%):PROCmsg("I see something."):PRINT:PROCon(@CarExamined)
				IF R%=25 AND V%=@Examine AND N%=@Car THEN PROCmsg("The cockpit is open, I can also see power terminals, a fuel tank and a jet engine."):=TRUE
				IF R%=25 AND V%=@Connect AND N%=@Cables AND NO2%=@Battery AND FNavail(@_BATTERY) AND FNavail(@_CABLES) AND NOT FNon(@BatteryConnectToCables) THEN PROCon(@BatteryConnectToCables):PROCmsg(@_OK):=TRUE
				IF R%=25 AND V%=@Connect AND N%=@Cables AND NO2%=@Terminals AND FNavail(@_BATTERY) AND FNavail(@_CABLES) AND FNon(@BatteryConnectToCables) THEN PROCon(@BatteryConnectToTerminals):PROCdrop(@_BATTERY):=TRUE
				IF R%=25 AND V%=@Refuel AND N%=@Car AND FNavail(@_MIXINGJUG) AND FNobMn(@_MIXINGJUG)=@_JetFuelJug THEN PROCmsg(@_OK):PROCon(@CarFuelled):=TRUE

				'in the car
				IF R%=26 AND V%=@Examine AND N%=@Dashboard THEN PROCmsg("I can see the starter button and glovebox."):PROCon(@DashboardStatus)
				IF R%=26 AND V%=@Examine AND N%=@Dashboard THEN IF NOT FNon(@CockpitStatus) THEN PROCmsg("The cockpit is open.") ELSE IF FNon(@CockpitStatus) THEN PROCmsg("The cockpit is closed.")
				IF R%=26 AND V%=@Examine AND N%=@Dashboard THEN IF NOT FNon(@FuelGuageStatus) THEN PROCmsg("The fuel guage is empty") ELSE IF FNon(@FuelGuageStatus) THEN PROCmsg("The fuel guage is full.")
				IF R%=26 AND V%=@Examine AND N%=@Dashboard THEN :=TRUE

				'search glovebox
				IF R%=26 AND V%=@Examine AND N%=@Glovebox AND FNon(@DashboardStatus) AND NOT FNon(@GloveboxStatus) THEN PROCon(@GloveboxStatus):PROCmsg("I see something."):PROCmove(@_FORMULA,R%):PROCmove(@_FLUID,R%):=TRUE

				'room 29 gas station - enter booth, examine pipes and pumps
				IF R%=29 THEN IF V%=@Enter AND N%=@Booth THEN PROCgoto(30):=TRUE
				IF R%=29 THEN IF V%=@Examine AND N%=@Pumps THEN PROCmsg("They are turned off."):=TRUE
				IF R%=29 THEN IF V%=@Examine AND N%=@Pipes AND NOT FNon(@PipesPadlocked) THEN PROCmsg("They are padlocked."):=TRUE
				IF R%=29 THEN IF V%=@Examine AND N%=@Pipes THEN PROCmsg("They are unlocked."):=TRUE
				IF R%=29 AND V%=@Unlock AND N%=@Pipes AND FNavail(@_KEY) AND NOT FNon(@PipesPadlocked) THEN PROCon(@PipesPadlocked):PROCmsg(@_OK):=TRUE

				'put the hose in the gas tank and remove it from inventory
				IF R%=29 AND V%=@Put AND N%=@Hose AND FNinInv(@_PUMP) AND FNinInv(@_HOSE) AND FNon(@HoseConnectedToPump) AND FNon(@PipesPadlocked) THEN PROCmsg("It does reach the gasoline."):PROCon(@PutHose):CW%=CW%-FNobWt(@_HOSE):PROCmove(@_HOSE,0):=TRUE
				IF R%=29 AND V%=@Use AND N%=@Pump AND FNon(@PutHose) AND FNobMn(@_MIXINGJUG)=@_EmptyJug AND FNinInv(@_PUMP) THEN PROCsetObjMsg(@_MIXINGJUG,@_FullJug):PROCmsg(@_OK):=TRUE

				'get the hose back again (required later on)
				IF V%=@Disconnect AND N%=@Hose AND FNon(@HoseConnectedToPump) AND FNinInv(@_PUMP) THEN PROCoff(@HoseConnectedToPump):PROCmove(@_HOSE,R%):PROCtake(@_HOSE):=TRUE


				IF V%=@Connect AND N%=@Hose AND FNavail(@_HOSE) AND FNavail(@_TAPE) AND FNavail(@_PUMP) AND NOT FNon(@HoseConnectedToPump) THEN PROCon(@HoseConnectedToPump):PROCmsg("Tape holds it attached to pump."):=TRUE


				'room 30 cashier's booth
				IF R%=30 THEN IF V%=@Examine AND N%=@Trash AND NOT FNon(@SearchTrash) THEN PROCon(@SearchTrash):PROCmsg("I see something."):PROCmove(@_BATTERY,R%):=TRUE
				IF R%=30 THEN IF V%=@Examine AND N%=@Trash THEN PROCmsg("It is a pile of trash."):=TRUE
				IF R%=30 THEN IF V%=@Examine AND N%=@Console THEN PROCmsg("I see a switch to the gas pumps."):=TRUE
				IF R%=30 THEN IF V%=@Press AND N%=@Switch THEN PROCmsg("Nothing happens."):=TRUE

				'open and close the toolbox
				IF V%=@Open THEN IF N%=@Toolbox AND FNavail(@_TOOLBOX) AND NOT FNon(@ToolBoxOpen) THEN PROCsetObjMsg(@_TOOLBOX,@_OpenToolBox):PROCon(@ToolBoxOpen):PROCmsg("I see something."):PROCmove(@_KEY,R%):PROCmove(@_TAPE,R%):PROCmove(@_FLASHLIGHT,R%):=TRUE
				IF V%=@Open THEN IF N%=@Toolbox AND FNavail(@_TOOLBOX) THEN PROCsetObjMsg(@_TOOLBOX,@_OpenToolBox):PROCon(@ToolBoxOpen):PROCmsg("The toolbox is open."):=TRUE
				IF V%=@Close THEN IF N%=@Toolbox AND FNavail(@_TOOLBOX) THEN PROCsetObjMsg(@_TOOLBOX,@_SmallToolBox):PROCoff(@ToolBoxOpen):PROCmsg(16):=TRUE

				'check the battery
				IF V%=@Check AND N%=@Battery AND FNavail(@_BATTERY) AND FNavail(@_HYDROMETER) THEN PROCmsg("Battery tests: Dead"):=TRUE

				'examine objects
				IF V%=@Examine THEN =FNexamine

				'basic code for object handling etc.
				IF V%=@On THEN IF N%=@CLS THEN PROCcls(1):=TRUE
				IF V%=@Off THEN IF N%=@CLS THEN PROCcls(0):=TRUE

				IF N%=@Torch THEN =FNtorch

				'load and save
				IF V%=@Save THEN PROCsave:=TRUE
				IF V%=@Load THEN PROCload:=TRUE

				'examine
				'IF V%=@Examine THEN PROCmsg("You find nothing of interest."):=TRUE

				'look at room
				IF V%=@Look THEN PROCgtRm:=TRUE


				'get and drop
				IF V%=@Get THEN IF N%&lt;@Door THEN PROCtake(N%):=TRUE
				IF V%=@Drop THEN IF N%&lt;@Door THEN PROCdrop(N%):=TRUE
				IF V%=@Inv THEN PROCinv:=TRUE
			</LowPriority>
			<UserCode>

				DEFFNr12
				IF V%=@Dig AND FNavail(@_PICK) AND NOT FNon(@HoleOne) THEN PROCon(@HoleOne):PROCmsg(@_OK):=TRUE
				IF V%=@Examine AND N%=@Hole AND FNon(@HoleOne) THEN PROCmsg("I see an underground phone line."):=TRUE
				IF V%=@Cut AND N%=@Line AND FNon(@HoleOne) AND NOT FNon(@CutOne) THEN PROCmsg("I see the line is severed."):PROCon(@CutOne):=TRUE
				IF V%=@Cut AND N%=@Line AND FNon(@CutOne) AND NOT FNon(@CutTwo) THEN PROCmsg("I see the line is severed."):PROCon(@CutTwo):=TRUE
				IF V%=@Get AND N%=@Line AND FNon(@CutOne) AND NOT FNon(@CutTwo) THEN PROCmsg("I can't. It's still attached."):=TRUE
				IF V%=@Dig AND FNavail(@_PICK) AND NOT FNon(@HoleTwo) THEN PROCon(@HoleTwo):PROCmsg(@_OK):=TRUE
				IF V%=@Get AND N%=@Line AND FNon(@CutOne) AND FNon(@CutTwo) AND NOT FNon(@TakenCable) THEN PROCon(@TakenCable):PROCmove(@_LINE,R%):PROCtake(@_LINE):=TRUE

				=FALSE

				DEFFNexamine
				'examine radio
				IF N%=@Radio AND FNavail(@Radio) THEN PROCmsg("I see a transmit switch.")
				IF N%=@Radio AND FNavail(@Radio) THEN IF NOT FNon(@RadioBatteryStatus) THEN PROCmsg("There's no battery.") ELSE IF FNon(@RadioBatteryStatus) THEN PROCmsg("There is a battery.")
				IF N%=@Radio AND FNavail(@Radio) THEN IF NOT FNon(@RadioAntennaStatus) THEN PROCmsg("There's no antenna.")
				IF N%=@Radio AND FNavail(@Radio) THEN IF NOT FNon(@RadioWorkingStatus) THEN PROCmsg("It is not working.") ELSE IF FNon(@RadioWorkingStatus) THEN PROCmsg("It is working.")
				IF N%=@Radio AND FNavail(@Radio) THEN :=TRUE

				'examine objects
				IF N%=@Pump AND FNavail(@_PUMP) THEN PROCmsg("The hose is 6 ft long."):=TRUE
				IF N%=@Toolbox AND FNavail(@_TOOLBOX) THEN PROCmsg("Sticker says: Sam's Service Station."):=TRUE

				IF N%=@Battery AND FNavail(@_BATTERY) AND NOT FNon(@BatteryWater) THEN PROCmsg("I see there is no water in the battery."):=TRUE
				IF N%=@Battery AND FNavail(@_BATTERY) AND FNon(@BatteryWater) THEN PROCmsg("I see water in the battery."):=TRUE

				IF N%=@Jar AND FNavail(@_FLUID) THEN PROCmsg("Jar of glowind fluid"):=TRUE
				IF N%=@Formula AND FNavail(@_FORMULA) THEN PROCmsg("Fuel is made from gasoline, sand, quartz and catalyst."):=TRUE

				'examine
				PROCmsg("You find nothing of interest."):=TRUE
				=FALSE


				DEFFNtorch
				'light the Torch
				'if torch is off (@FlashlightOff@)
				IF V%=@On THEN IF FNinInv(@_FLASHLIGHT) THEN IF FNobMn(@_FLASHLIGHT)=@_FlashlightOff THEN PROCsetObjMsg(@_FLASHLIGHT,@_FlashlightOn):PROCon(@HaveLight):PROCmsg("The flashlight is on."):=TRUE
				'if the torch is on (@_FlashlightOn)
				IF V%=@Off THEN IF FNinInv(@_FLASHLIGHT) THEN IF FNobMn(@_FLASHLIGHT)=@_FlashlightOn THEN PROCsetObjMsg(@_FLASHLIGHT,@_FlashlightOff):PROCoff(@HaveLight):PROCmsg("The flashlight is off."):=TRUE

				'deal with dropping the torch and losing the light source
				IF V%=@Drop THEN PROCdrop(@_FLASHLIGHT):PROCoff(@HaveLight):=TRUE

				'not sure about this chunk...needs to be the last part of this FN
				IF V%=@Get THEN PROCtake(@_FLASHLIGHT):=TRUE
				IF FNinInv(@_FLASHLIGHT) THEN IF FNobMn(@_FLASHLIGHT)=20 THEN PROCon(@HaveLight):=TRUE
				IF FNinInv(@_FLASHLIGHT) THEN IF FNobMn(@_FLASHLIGHT)=19 THEN PROCoff(@HaveLight):=TRUE
				=FALSE
			</UserCode>
			<Walkthrough>
				W
				E
				E
				N
				TAKE TOOLBOX
				S
				W
				W
				GO STATION
				DROP TOOLBOX
				OPEN IT
				GO BOOTH
				EXAMINE TRASH	'to find the battery
				GET BATTERY
				N
				E
				N
				N
				W
				GO CAR
				EXAMINE DASHBOARD	'to find the glovebox
				EXAMINE COMPARTMENT
				TAKE FORMULA
				TAKE FLUID
				E
				DROP FORMULA
				N
				GET SAND
				GO SHACK
				GET RADIO
				E
				N
				FILL BATTERY
				E
				S
				W
				DROP BATTERY
				E
				S
				S
				W
				GO SHED
				DROP RADIO
				CONNECT ANTENNA
				N
				E
				GO YOYO
				DROP SAND
				DROP JAR
				W
				N
				GO STORE
				GET PICK
				GET PUMP
				GET HYDROMETER
				GET CABLES
				E
				N
				W
				DROP HYDROMETER
				E
				S
				S
				S
				E
				DIG
				DIG
				CUT LINE	'cut one end of the line
				CUT LINE	'cut the other end of the line
				GET LINE
				W
				N
				N
				N
				N
				DROP PUMP
				DROP CABLES
				THROW LINE
				TIE LINE TO PICK
				CLIMB LINE
				PULL LINE
				GET QUARTZ
				D
				DROP PICK
				GET PUMP
				GET CABLES
				S
				W
				GET BATTERY
				EXAMINE CAR
				CONNECT CABLES TO BATTERY
				GET HOSE
				E
				S
				S
				GO STATION
				TAKE TORCH
				TAKE TAPE
				UNLOCK PIPE
				CONNECT HOSE
				DROP TAPE
				E
				GO YOYO
				GET SAND
				GET JAR
				TORCH ON
				D
				DROP QUARTZ
				DROP SAND
				DROP JAR
				EXAMINE STAIRCASE
				TAKE JUG
				U
				TORCH OFF
				W
				GO STATION
				PUT HOSE
				USE PUMP
				DISCONNECT HOSE
				DROP PUMP
				E
				N
				N
				W
				GET FORMULA
				DROP HOSE
				E
				S
				S
				GO YOYO
				TORCH ON
				D
				DROP JUG
				MAKE FUEL
				TAKE JUG
				U
				TORCH OFF
				DROP FORMULA
				W
				N
				N
				W
				CONNECT CABLES TO TERMINALS
				REFUEL CAR
			</Walkthrough>
		</Section>
	</Sections>
</AdventureData>